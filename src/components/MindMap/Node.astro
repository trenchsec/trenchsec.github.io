---
interface Props {
  label: string;
  href?: string;
  variant?: 'primary' | 'secondary' | 'accent';
  size?: 'lg' | 'md' | 'sm';
}

const { label, href = '#', variant = 'primary', size = 'md' } = Astro.props;

const sizeClasses = {
  lg: 'node-lg',
  md: 'node-md',
  sm: 'node-sm'
};

const variantClasses = {
  primary: 'node-primary',
  secondary: 'node-secondary',
  accent: 'node-accent'
};
---

<a href={href} class={`node ${sizeClasses[size]} ${variantClasses[variant]}`}>
  <span class="node-content">
    <slot name="icon" />
    <span class="node-label">{label}</span>
  </span>
</a>

<style>
  .node {
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-lg);
    background: var(--bg-card);
    border: 2px solid transparent;
    text-decoration: none;
    transition:
      transform var(--transition-normal),
      box-shadow var(--transition-normal),
      border-color var(--transition-normal);
    cursor: pointer;
    position: relative;
  }

  .node:hover {
    transform: scale(1.05);
  }

  .node-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-md);
  }

  .node-label {
    font-weight: 600;
    color: var(--text-primary);
    text-align: center;
  }

  /* Sizes */
  .node-lg {
    width: 160px;
    height: 160px;
    font-size: 1.125rem;
  }

  .node-md {
    width: 120px;
    height: 120px;
    font-size: 1rem;
  }

  .node-sm {
    width: 100px;
    height: 100px;
    font-size: 0.875rem;
  }

  /* Variants */
  .node-primary {
    border-color: var(--primary-dark);
    background: linear-gradient(135deg, var(--bg-card), rgba(139, 92, 246, 0.1));
  }

  .node-primary:hover {
    border-color: var(--primary);
    box-shadow: var(--glow-purple);
  }

  .node-secondary {
    border-color: var(--secondary-dark);
    background: linear-gradient(135deg, var(--bg-card), rgba(59, 130, 246, 0.1));
  }

  .node-secondary:hover {
    border-color: var(--secondary);
    box-shadow: var(--glow-blue);
  }

  .node-accent {
    border-color: var(--accent-dark);
    background: linear-gradient(135deg, var(--bg-card), rgba(34, 197, 94, 0.1));
  }

  .node-accent:hover {
    border-color: var(--accent);
    box-shadow: var(--glow-green);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .node-lg {
      width: 120px;
      height: 120px;
      font-size: 1rem;
    }

    .node-md {
      width: 100px;
      height: 100px;
      font-size: 0.875rem;
    }

    .node-sm {
      width: 80px;
      height: 80px;
      font-size: 0.75rem;
    }
  }
</style>
